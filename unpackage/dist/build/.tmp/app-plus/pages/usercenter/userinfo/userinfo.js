(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/usercenter/userinfo/userinfo"],{"15ce":function(e,t,a){"use strict";var i=a("e6c9"),s=a.n(i);s.a},"81d3":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("0d79"),a("08ad");var i=a("b876"),s={components:{getDate:i.getDate,getUserInfo:i.getUserInfo,getToken:i.getToken,setUserInfo:i.setUserInfo},data:function(){return{index:-1,date:"",userinfo:{headPortrait:"",sex:!1,nickName:"",work:"",telephone:"",signature:"",birthday:""}}},onLoad:function(){console.log("获取用户信息："+(0,i.getUserInfo)());var e=(0,i.getUserInfo)();null!=e.birthday&&""!=e.birthday&&(e.birthday=(0,i.getDate)(e.birthday)),this.userinfo=e},methods:{DateChange:function(e){this.userinfo.birthday=e.detail.value},Sex:function(e){this.userinfo.sex=e.detail.value},ChooseImage:function(){var t=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(e){t.userinfo.headPortrait=e.tempFilePaths,console.log("头像地址："+t.userinfo.headPortrait)}})},ViewImage:function(t){e.previewImage({urls:this.userinfo.headPortrait,current:t.currentTarget.dataset.url})},textareaBInput:function(e){this.userinfo.textareaBValue=e.detail.value},save:function(){console.log("修改信息："+JSON.stringify(this.userinfo));e.request({url:this.userUrl+"/user/update",method:"POST",data:this.userinfo,dataType:"json",header:{Authorization:"Bearer "+(0,i.getToken)()},success:function(t){console.log("成功："+JSON.stringify(t.data)),"000"==t.data.code?(e.setStorage({key:"user",data:t.data.data.data}),e.showToast({title:"保存成功"})):(console.log("失败："+JSON.stringify(t.data)),e.showToast({title:"保存失败"}))},fail:function(t){console.log("失败："+JSON.stringify(t.data)),e.showToast({title:"保存失败"})}})}}};t.default=s}).call(this,a("649d")["default"])},"8a40":function(e,t,a){"use strict";a("5035");var i=n(a("b0ce")),s=n(a("c511"));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,i.default)(s.default))},a20d:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",[a("form",[a("view",{staticClass:"cu-bar bg-white margin-top"},[a("view",{staticClass:"action"},[e._v("头像")]),a("view",{staticClass:"action",attrs:{eventid:"6adc3760-0"},on:{tap:e.ChooseImage}},[a("text",{staticClass:"icon-cameraadd"})])]),a("view",{staticClass:"cu-form-group"},[a("view",{staticClass:"grid col-4 grid-square flex-sub"},[""!=e.userinfo.headPortrait?a("view",{staticClass:"padding-xs bg-img",style:"background-image:url("+e.userinfo.headPortrait+")",attrs:{"data-url":e.userinfo.headPortrait,eventid:"6adc3760-1"},on:{tap:e.ViewImage}}):e._e(),""==e.userinfo.headPortrait?a("view",{staticClass:"padding-xs solids"},[a("text",{staticClass:"icon-cameraadd"})]):e._e()])]),a("view",{staticClass:"cu-form-group margin-top"},[a("view",{staticClass:"title"},[e._v("昵称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.nickName,expression:"userinfo.nickName"}],attrs:{name:"input",eventid:"6adc3760-2"},domProps:{value:e.userinfo.nickName},on:{input:function(t){t.target.composing||(e.userinfo.nickName=t.target.value)}}})]),a("view",{staticClass:"cu-form-group"},[a("view",{staticClass:"title"},[e._v("性别")]),a("switch",{staticClass:"switch-sex",class:e.userinfo.sex?"checked":"",attrs:{checked:!!e.userinfo.sex,eventid:"6adc3760-3"},on:{change:e.Sex}})]),a("view",{staticClass:"cu-form-group"},[a("view",{staticClass:"title"},[e._v("生日")]),a("picker",{attrs:{mode:"date",value:e.userinfo.birthday,eventid:"6adc3760-4"},on:{change:e.DateChange}},[a("view",{staticClass:"picker"},[e._v(e._s(e.userinfo.birthday))])])],1),a("view",{staticClass:"cu-form-group"},[a("view",{staticClass:"title"},[e._v("职业")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.work,expression:"userinfo.work"}],attrs:{name:"input",eventid:"6adc3760-5"},domProps:{value:e.userinfo.work},on:{input:function(t){t.target.composing||(e.userinfo.work=t.target.value)}}})]),a("view",{staticClass:"cu-form-group"},[a("view",{staticClass:"title"},[e._v("手机号码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.telephone,expression:"userinfo.telephone"}],attrs:{name:"input",disabled:!0,eventid:"6adc3760-6"},domProps:{value:e.userinfo.telephone},on:{input:function(t){t.target.composing||(e.userinfo.telephone=t.target.value)}}})]),a("view",{staticClass:"cu-form-group align-start"},[a("view",{staticClass:"title"},[e._v("个性签名")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.signature,expression:"userinfo.signature"}],attrs:{maxlength:"-1",eventid:"6adc3760-7"},domProps:{value:e.userinfo.signature},on:{input:function(t){t.target.composing||(e.userinfo.signature=t.target.value)}}})]),a("view",{staticClass:"padding flex flex-direction"},[a("button",{staticClass:"cu-btn bg-blue margin-tb-sm lg",attrs:{eventid:"6adc3760-8"},on:{click:e.save}},[e._v("保存")])],1)])],1)},s=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s})},a49a:function(e,t,a){"use strict";a.r(t);var i=a("81d3"),s=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);t["default"]=s.a},c511:function(e,t,a){"use strict";a.r(t);var i=a("a20d"),s=a("a49a");for(var n in s)"default"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);a("15ce");var o=a("2877"),r=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=r.exports},e6c9:function(e,t,a){}},[["8a40","common/runtime","common/vendor"]]]);