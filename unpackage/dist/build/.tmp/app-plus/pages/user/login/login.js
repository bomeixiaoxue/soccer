(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/login/login"],{"1aa2":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(n("b19f")),s=c(n("a180")),o=c(n("cbd5")),i=c(n("6b91"));function c(t){return t&&t.__esModule?t:{default:t}}var l={components:{cmdNavBar:a.default,cmdPageBody:s.default,cmdTransition:o.default,cmdInput:i.default},data:function(){return{account:{username:"",password:""},usernameReg:/^[A-Za-z0-9]+$/,passwordReg:/^\w+$/,loginAccount:!1,mobile:{phone:"",code:""},phoneReg:/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,loginMobile:!1,safety:{time:60,state:!1,interval:""},status:!0}},watch:{mobile:{handler:function(t){this.phoneReg.test(t.phone)&&6===t.code.length?this.loginMobile=!0:this.loginMobile=!1},deep:!0},account:{handler:function(t){this.usernameReg.test(t.username)&&t.username.length>=8&&this.passwordReg.test(t.password)&&t.password.length>=8?this.loginAccount=!0:this.loginAccount=!1},deep:!0}},methods:{fnLogin:function(){this.status?console.log(JSON.stringify(this.mobile)):console.log(JSON.stringify(this.account))},fnGetPhoneCode:function(){var e=this;this.phoneReg.test(this.mobile.phone)?t.showToast({title:"正在发送验证码",icon:"loading",success:function(){e.safety.state=!0,e.safety.interval=setInterval(function(){e.safety.time--<=0&&(e.safety.time=60,e.safety.state=!1,clearInterval(e.safety.interval))},1e3),t.showToast({title:"发送成功",icon:"success"})}}):t.showToast({title:"手机号不正确",icon:"none"})},fnChangeStatus:function(t){this.mobile={phone:"",code:""},this.loginMobile=!1,this.account={username:"",password:""},this.loginAccount=!1,clearInterval(this.safety.interval),this.safety.time=60,this.safety.state=!1,t||(this.status=!this.status)},fnRegisterWin:function(){t.navigateTo({url:"/pages/user/register/register"}),this.fnChangeStatus(!0)}},beforeDestroy:function(){clearInterval(this.safety.interval)},onNavigationBarButtonTap:function(){t.navigateTo({url:"/pages/user/register/register"})}};e.default=l}).call(this,n("649d")["default"])},3234:function(t,e,n){"use strict";n.r(e);var a=n("1aa2"),s=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=s.a},"3b1e":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("cmd-page-body",{staticStyle:{"margin-top":"0"},attrs:{type:"top",mpcomid:"52a6c46f-6"}},[n("view",{staticClass:"login"},[n("view",{staticClass:"login-title"},[t._v(t._s(t.status?"手机快捷登录":"使用账号密码登录"))]),n("view",{staticClass:"login-explain"},[t._v(t._s(t.status?"已注册用户可通过手机验证码直接登录":"未注册用户可通过点击右上角进行注册"))]),t.status?n("cmd-transition",{attrs:{name:"fade-up",mpcomid:"52a6c46f-2"}},[n("view",{staticClass:"login-phone"},[n("cmd-input",{attrs:{type:"number",focus:"",maxlength:"11",placeholder:"请输入手机号",eventid:"52a6c46f-0",mpcomid:"52a6c46f-0"},model:{value:t.mobile.phone,callback:function(e){t.mobile.phone=e},expression:"mobile.phone"}}),n("view",{staticClass:"login-phone-getcode",attrs:{eventid:"52a6c46f-1"},on:{tap:function(e){!t.safety.state&&t.fnGetPhoneCode()}}},[t._v(t._s(t.safety.state?t.safety.time+" s":"获取验证码"))])],1),n("view",{staticClass:"login-code"},[n("cmd-input",{attrs:{type:"number",maxlength:"6",placeholder:"请输入短信验证码",eventid:"52a6c46f-2",mpcomid:"52a6c46f-1"},model:{value:t.mobile.code,callback:function(e){t.mobile.code=e},expression:"mobile.code"}})],1),n("button",{staticClass:"btn-login",class:t.loginMobile?"btn-login-active":"",attrs:{disabled:!t.loginMobile,"hover-class":"btn-login-hover",eventid:"52a6c46f-3"},on:{tap:t.fnLogin}},[t._v("登录")])],1):t._e(),t.status?t._e():n("cmd-transition",{attrs:{name:"fade-up",mpcomid:"52a6c46f-5"}},[n("view",{staticClass:"login-username"},[n("cmd-input",{attrs:{type:"text",focus:"",maxlength:"26",placeholder:"请输入账号",eventid:"52a6c46f-4",mpcomid:"52a6c46f-3"},model:{value:t.account.username,callback:function(e){t.account.username=e},expression:"account.username"}})],1),n("view",{staticClass:"login-password"},[n("cmd-input",{attrs:{type:"password",displayable:"",maxlength:"26",placeholder:"请输入密码",eventid:"52a6c46f-5",mpcomid:"52a6c46f-4"},model:{value:t.account.password,callback:function(e){t.account.password=e},expression:"account.password"}})],1),n("button",{staticClass:"btn-login",class:t.loginAccount?"btn-login-active":"",attrs:{disabled:!t.loginAccount,"hover-class":"btn-login-hover",eventid:"52a6c46f-6"},on:{tap:t.fnLogin}},[t._v("登录")])],1),n("view",{staticClass:"login-mode",attrs:{eventid:"52a6c46f-7"},on:{tap:function(e){t.fnChangeStatus(!1)}}},[t._v(t._s(t.status?"账号密码登录":"手机快捷登录"))])],1)])],1)},s=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return s})},6657:function(t,e,n){"use strict";var a=n("70bc"),s=n.n(a);s.a},"70bc":function(t,e,n){},b725:function(t,e,n){"use strict";n.r(e);var a=n("3b1e"),s=n("3234");for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);n("6657");var i=n("2877"),c=Object(i["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},bb91:function(t,e,n){"use strict";n("5035");var a=o(n("b0ce")),s=o(n("b725"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))}},[["bb91","common/runtime","common/vendor"]]]);